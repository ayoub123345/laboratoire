<div class="card card-primary">
    <div class="card-header">
        <h3 class="card-title">Add Analyse</h3>
    </div>
    <div *ngIf="isLoading" class="overlay">
        <i class="fas fa-2x fa-sync-alt rotating-icon"></i>
    </div>
    <div class="card-body">


        <form>
            <div class="card-body">
                <a style="margin-bottom: 15px"   [routerLink]="'/analyses'"   >Return to the list
                </a> <div style="height: 10px"></div>

                <div>
                    <h6> * Patient info</h6>
                </div>
                <div class="row">

                    <div class="col-4">
                        <div class="form-group">
                            <label>CIN</label>
                            <input (change)="onCinChange( )" type="text" class="form-control" name="cin" placeholder="Enter CIN" [(ngModel)]="patient.cin" [ngClass]="{ 'is-invalid': errors?.cin }">

                            <span  *ngIf="errors?.cin" class="error invalid-feedback">{{ errors.cin[0] }}</span>

                        </div>
                    </div>
                    <div class="col-4">
                        <div class="form-group">
                            <label>Prénom</label>
                            <input type="text" class="form-control" name="firstname" placeholder="Enter le prénom de patient" [(ngModel)]="patient.firstname" [ngClass]="{ 'is-invalid': errors?.firstname }">
                            <span  *ngIf="errors?.firstname" class="error invalid-feedback">{{ errors.firstname[0] }}</span>

                        </div>
                    </div>
                    <div class="col-4">
                        <div class="form-group">
                            <label>Nom</label>
                            <input type="text" class="form-control" name="lastname" placeholder="Enter le famille de patient" [(ngModel)]="patient.lastname" [ngClass]="{ 'is-invalid': errors?.lastname }">
                            <span  *ngIf="errors?.lastname" class="error invalid-feedback">{{ errors.lastname[0] }}</span>

                        </div>
                    </div>
                </div>



                <div class="row">

                    <div class="col-4">
                        <div class="form-group">
                            <label>Date naissance</label>
                            <input  type="date" class="form-control" name="birth_date" placeholder="Entre la date de patient"   [(ngModel)]="patient.birth_date" [ngClass]="{ 'is-invalid': errors?.birth_date }">
                            <span  *ngIf="errors?.birth_date" class="error invalid-feedback">{{ errors.birth_date[0] }}</span>

                        </div>

                    </div>

                    <div class="col-4">
                        <div class="form-group">
                            <label>Adresse</label>
                            <input type="text" class="form-control" rows="3" name="adresse" placeholder="Enter ..." [(ngModel)]="patient.adresse" [ngClass]="{ 'is-invalid': errors?.adresse }"/>
                            <span  *ngIf="errors?.adresse" class="error invalid-feedback">{{ errors.adresse[0] }}</span>

                        </div>

                    </div>

                    <div class="col-4">

                        <div class="form-group">
                            <label>Téléphone</label>
                            <input type="text" class="form-control" name="phone" placeholder="Phone" [(ngModel)]="patient.phone" [ngClass]="{ 'is-invalid': errors?.phone }">
                            <span  *ngIf="errors?.phone" class="error invalid-feedback">{{ errors.phone[0] }}</span>

                        </div>

                    </div>

                </div>

                <div class="row">
                    <div class="col-4" >
                        <div style="display: inline; margin: 4px;" class="form-check">
                            <input type="radio" name="sexe"   class="form-check-input" id="male" [(ngModel)]="patient.sexe" value="MALE">
                            <label class="form-check-label"   for="male">Masculin</label>
                        </div>

                        <div style="display: inline; margin: 4px;" class="form-check">
                            <input type="radio" name="sexe" class="form-check-input" id="female" [(ngModel)]="patient.sexe" value="FEMALE">
                            <label class="form-check-label" for="female">Féminin</label>
                        </div>


                    </div>
                </div>


                <div style=" border-bottom: 1px solid rgba(0,0,0,0.46); height: 6px;" class="horizontal-line"></div>

                <div class="row mt-4">

                    <div class="col-6">
                        <div class="form-group">
                            <label>Nom de Analyse</label>
                            <input (change)="onCinChange( )" type="text" class="form-control" name="analys_name" placeholder="Enter Nom de Analyse" [(ngModel)]="analyse.name" [ngClass]="{ 'is-invalid': errors?.name }">

                            <span  *ngIf="errors?.name" class="error invalid-feedback">{{ errors.name[0] }}</span>

                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label>Prix</label>
                            <input type="number" class="form-control" name="price" placeholder="Enter le prix " [(ngModel)]="analyse.price" [ngClass]="{ 'is-invalid': errors?.price }">
                            <span  *ngIf="errors?.price" class="error invalid-feedback">{{ errors.price[0] }}</span>

                        </div>
                    </div>
                    <div class="col-4">

                        <div class="col-4" >

                            <div class="form-group">
                                <label>status</label>
                                <div>
                                    <div style="display: inline; margin: 4px;" class="form-check">
                                        <input type="radio" name="status"   class="form-check-input"   [(ngModel)]="analyse.status" value="PENDING">
                                        <label class="form-check-label"   for="male">Pending</label>
                                    </div>

                                    <div style="display: inline; margin: 4px;" class="form-check">
                                        <input type="radio" name="status" class="form-check-input"   [(ngModel)]="analyse.status" value="READY">
                                        <label class="form-check-label" for="female">Ready</label>
                                    </div>
                                </div>

                             </div>

                        </div>
                    </div>
                </div>

            </div>

            <div class="card-footer">
                <button type="button" (click)="clickSendData()" class="btn btn-primary">Ajouter</button>
            </div>
        </form>
    </div>
</div>
